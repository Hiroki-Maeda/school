<!DOCTYPE>
<html lang=ja>
  <head>
    <meta charset="UTF-8">
    <title>問１</title>
    <link rel="stylesheet" href="./stylesheet.css">
  </head>
  <body>
    <header>
      <div class="header">
          <p>web page コンテスト</p>
          <a href="./index.html" class="nav">home</a><p class="nav"> -&gt 問１</p>
      </div>
    </header>
    <div class="content">
        <div class="left_content">
            <p>項目</p>
            <ul>
                <li><a href="index.html">home</a></li>
                <li><a href="./qes_1.html">問１</a></li>
                <li><a href="./qes_2.html">問２</a></li>
                <li><a href="./aboutC.html">C言語について</a></li>
                <li><a href="HTML5_notex.html">HTML5の注意事項</a></li>
            </ul>
        </div>
    <div class="center_content">
      <h2>問１</h2>
      <h3>次の行列の積に関するプログラムで使われる関数をC言語で作成せよ。</h3><div class="question">
      <p>このプログラムは、要素として int 型の値を持つ 3 × 3 行列に燗する操作を行っている。<br>2つの関数、関数 matAvrDiagElements と関数 mat4thPower のみ作成せよ。関数 matProduct は作成済みとする。<br>関数 matAvrDiagElements は
、第1引数の行列からその行列の対角要素(3個の要素)の平均値を求めて返り値として返す
。関数 matProduct は
、第1引数の行列(A)と第2引数の行列(B)の積(AB)の結果を第3引数の行列に格納する。関数 mat4thPower は、第1引数の行列を4乗した結果を第2引数の行列に格納する
。なお、必要であればこれら3つの関数はお互いに内部で使用しても構わない

。ただし、作成する関数はメイン関数内に示している行列の各要素の値が変わっても
          、正しく動作するように作成すること実行した結果、画面表示はつぎのようになる。</p></div>
      <h3>出力結果</h3>
      <img src="./qes_1.png">
      <p>コード全文</p>
      <div class="source">
	<pre>
#include &ltstdio.h&gt

double matAvrDiagElements(int a[3][3]);
void matProduct(int a[3][3], int b[3][3], int c[3][3]);
void mat4thPower(int a[3][3], int d[3][3]);

int main(int arc, char *argv[]){
  int a[3][3] = {{1,2,3},{4,5,6},{7,8,9}};
  int b[3][3] = {{9,8,7},{6,5,4},{3,2,1}};
  double av;
  int c[3][3], d[3][3];
  int i,j;
  av = matAvrDiagElements(a);
  printf("average of diagonal elements = %f \n",av);
  matProduct(a,b,c);
  for(i=0;i<3;i++){
    for(j=0;j&lt3;j++){
      printf("%d\t",c[i][j]);
    }
    printf("\n");
  }
  mat4thPower(a,d);
  for(i=0;i&lt3;i++){
    for(j=0;j&lt3;j++){
      printf("%d\t",d[i][j]);
    }
    printf("\n");
  }
  return 0;
}

double matAvrDiagElements(int a[3][3]){
  return (double)((a[0][0]+a[1][1]+a[2][2])/3.0);
}

void matProduct(int a[3][3], int b[3][3], int c[3][3]){
  int i;
  int j;
  int k;
  int ans=0;
  int temp[3][3];
  for(i=0;i<3;i++){
    for(k=0;k<3;k++){
      for(j=0;j<3;j++){
	ans+=a[i][j]*b[j][k];
      }
      temp[i][k]=ans;
      ans=0;
    }
  }
 
  for(i=0;i<3;i++){
    for(j=0;j<3;j++){
      c[i][j]=temp[i][j];
    }
  }
}
void mat4thPower(int a[3][3], int d[3][3]){
  int i;
  int j;
  for(i=0;i<3;i++){
    for(j=0;j<3;j++){
      d[i][j]=a[i][j];
    }
  }
  for(i=0;i<3;i++){
  matProduct(d,a,d);
  }

}
	      
	      </pre>

      </div>
<p>回答</p>
<table border="1" bordercolor="#000000">
  <tr><th>関数名</th><th>コード</th></tr>
  <tr><td>matAvrDiagElements</td><td>double matAvrDiagElements(int a[3][3]){
    return (double)((a[0][0]+a[1][1]+a[2][2])/3.0);
}</td></tr>
	  <tr><td>mat4thPower</td><td>void mat4thPower(int a[3][3], int d[3][3]){<br>
  int i;
  int j;<br>
  for(i=0;i<3;i++){
    for(j=0;j<3;j++){
      d[i][j]=a[i][j];
    }
  }<br>
  for(i=0;i<3;i++){
  matProduct(d,a,d);
  }

}</td></tr>
	      </table>
<p>解説</p>
<ul>
  <li>matAvrDiagElement</li>
  <p>送られてきた配列aのa[0][0],a[1][1],a[2][2]をすべて足してそれを3で割ったものを返している。</p>
  <li>mat4thPower</li>
  <p>まずdの中にaと同じものをいれるために int i と int jを定義し、for 文で d の中に a を入れる。そのdに matProduct を使用し、3度 a を d にかける事で4乗をしている。</p>
</ul>
          <div style="text-align : center;"><a href="qes_2.html">&lt;問２へ&gt;</a></div>
</div>
</div>

</body>
</html>
